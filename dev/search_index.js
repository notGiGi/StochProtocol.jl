var documenterSearchIndex = {"docs":
[{"location":"api/core/#Core-Functions","page":"Core Functions","title":"Core Functions","text":"Core API for defining and running protocols.","category":"section"},{"location":"api/core/#Protocol-Definition","page":"Core Functions","title":"Protocol Definition","text":"","category":"section"},{"location":"api/core/#Usage","page":"Core Functions","title":"Usage","text":"using StochProtocol\n\n# Define a protocol\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\n...\n\"\"\")\n\nThe Protocol wrapper provides beautiful display in notebooks and REPL.","category":"section"},{"location":"api/core/#Running-Experiments","page":"Core Functions","title":"Running Experiments","text":"","category":"section"},{"location":"api/core/#Examples","page":"Core Functions","title":"Examples","text":"Basic usage:\n\nresults = run_protocol(AMP; p_values=0.0:0.1:1.0)\n\nWith all parameters:\n\nresults = run_protocol(AMP;\n                       p_values=[0.2, 0.5, 0.8],  # Custom probabilities\n                       rounds=3,                    # Multiple rounds\n                       repetitions=5000,            # High accuracy\n                       seed=42,                     # Reproducible\n                       consensus_eps=1e-6)          # Consensus threshold\n\nFrom file:\n\nresults = run_protocol(\"protocols/amp.txt\";\n                       p_values=0.0:0.05:1.0)","category":"section"},{"location":"api/core/#Results","page":"Core Functions","title":"Results","text":"","category":"section"},{"location":"api/core/#ExploreRun","page":"Core Functions","title":"ExploreRun","text":"Results are returned as an ExploreRun object:\n\nresults = run_protocol(...)\n\n# Access properties\nresults.name           # Protocol name\nresults.num_processes  # Number of processes\nresults.rounds         # Number of rounds\nresults.repetitions    # Monte Carlo samples\nresults.p_values       # Probabilities tested\nresults.results        # Individual MonteCarloResult objects\n\n# Iterate over results\nfor r in results\n    println(\"p=$(r.p), E[D]=$(r.mean_discrepancy)\")\nend\n\n# Index access\nfirst_result = results[1]","category":"section"},{"location":"api/core/#MonteCarloResult","page":"Core Functions","title":"MonteCarloResult","text":"Each p-value has a MonteCarloResult:\n\nr = results[1]\n\nr.p                      # Delivery probability\nr.repetitions            # Number of trials\nr.mean_discrepancy       # E[D]\nr.var_discrepancy        # Var[D]\nr.consensus_probability  # P(consensus)\nr.mean_discrepancy_by_round  # Round-by-round E[D]","category":"section"},{"location":"api/core/#Utility-Functions","page":"Core Functions","title":"Utility Functions","text":"","category":"section"},{"location":"api/core/#Usage-2","page":"Core Functions","title":"Usage","text":"# Text summary\nsummary(results)\n\n# Tabular data\ndf = table(results)  # Returns DataFrame if available","category":"section"},{"location":"api/core/#Parameters","page":"Core Functions","title":"Parameters","text":"","category":"section"},{"location":"api/core/#p_values","page":"Core Functions","title":"p_values","text":"Message delivery probability. Accepts:\n\nRange: 0.0:0.1:1.0\nList: [0.2, 0.5, 0.8]\nSingle value: 0.5 (converted to [0.5])","category":"section"},{"location":"api/core/#rounds","page":"Core Functions","title":"rounds","text":"Number of communication rounds. Default: 1\n\n# Single round\nresults = run_protocol(AMP; rounds=1)\n\n# Analyze convergence over multiple rounds\nresults = run_protocol(AMP; rounds=10)","category":"section"},{"location":"api/core/#repetitions","page":"Core Functions","title":"repetitions","text":"Monte Carlo samples per p-value. Default: 2000\n\n500-1000: Fast prototyping\n2000-5000: Standard analysis\n10000+: High-precision results","category":"section"},{"location":"api/core/#seed","page":"Core Functions","title":"seed","text":"Random seed for reproducibility. Default: nothing (random)\n\n# Reproducible results\nresults1 = run_protocol(AMP; seed=42)\nresults2 = run_protocol(AMP; seed=42)\n# results1 == results2  ‚úì\n\n# Random (different each time)\nresults = run_protocol(AMP)","category":"section"},{"location":"api/core/#consensus_eps","page":"Core Functions","title":"consensus_eps","text":"Threshold for consensus detection. Default: 1e-10\n\nTwo processes are in consensus if |x‚ÇÅ - x‚ÇÇ| ‚â§ consensus_eps.\n\n# Stricter consensus\nresults = run_protocol(AMP; consensus_eps=1e-12)\n\n# Looser consensus\nresults = run_protocol(AMP; consensus_eps=1e-6)","category":"section"},{"location":"api/core/#See-Also","page":"Core Functions","title":"See Also","text":"Protocol DSL - Protocol specification language\nVisualization - Plotting and tables\nExamples - Complete examples","category":"section"},{"location":"api/core/#StochProtocol.ProtocolString.Protocol","page":"Core Functions","title":"StochProtocol.ProtocolString.Protocol","text":"Protocol(text::String)\n\nWrapper para strings de protocolos que se muestra bonito en notebooks.\n\nEjemplo\n\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\n...\n\"\"\")\n\n\n\n\n\n","category":"type"},{"location":"api/core/#StochProtocol.Explore.Run.run_protocol","page":"Core Functions","title":"StochProtocol.Explore.Run.run_protocol","text":"Explicit API to run a protocol specified by path or inline DSL text. Accepts either an existing file, raw DSL text, a Protocol object, or an ExploreRun (returned as-is).\n\n\n\n\n\n","category":"function"},{"location":"api/core/#StochProtocol.Explore.Views.table","page":"Core Functions","title":"StochProtocol.Explore.Views.table","text":"Return a table-like structure for a protocol run. DataFrame if available, otherwise a vector of NamedTuples.\n\n\n\n\n\n","category":"function"},{"location":"getting_started/#Getting-Started","page":"Getting Started","title":"Getting Started","text":"This guide will walk you through using StochProtocol.jl to define, simulate, and analyze distributed consensus protocols.","category":"section"},{"location":"getting_started/#Installation","page":"Getting Started","title":"Installation","text":"using Pkg\nPkg.add(\"StochProtocol\")","category":"section"},{"location":"getting_started/#Your-First-Protocol","page":"Getting Started","title":"Your First Protocol","text":"Let's implement the AMP (Averaging Meeting Point) protocol:\n\nusing StochProtocol\n\n# Define the protocol using the Protocol wrapper\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\nSTATE:\n    x ‚àà {0,1}\nINITIAL VALUES:\n    [0.0, 1.0]\nPARAMETERS:\n    y ‚àà [0,1] = 0.5\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê y\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\nWhen you display AMP in a notebook, you'll see:\n\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ  Protocol: AMP                                             ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n  PROTOCOL AMP\n  PROCESSES: 2\n  STATE:\n      x ‚àà {0,1}\n  ...\n\n  ‚úì Protocol loaded and ready to run","category":"section"},{"location":"getting_started/#Running-Experiments","page":"Getting Started","title":"Running Experiments","text":"Run the protocol across different message delivery probabilities:\n\nresults = run_protocol(AMP;\n                       p_values=0.0:0.1:1.0,  # Range of probabilities\n                       rounds=1,               # Number of rounds\n                       repetitions=2000)       # Monte Carlo samples","category":"section"},{"location":"getting_started/#Parameters","page":"Getting Started","title":"Parameters","text":"p_values: Probability range or list (e.g., 0.0:0.1:1.0 or [0.2, 0.5, 0.8])\nrounds: Number of communication rounds\nrepetitions: Number of Monte Carlo simulations per p-value\nseed: (Optional) Random seed for reproducibility","category":"section"},{"location":"getting_started/#Viewing-Results","page":"Getting Started","title":"Viewing Results","text":"","category":"section"},{"location":"getting_started/#Interactive-Tables","page":"Getting Started","title":"Interactive Tables","text":"results_table(results; protocol_name=\"AMP (y=0.5)\")\n\nOutput in Jupyter:\n\nResults: AMP (y=0.5)\n\n11√ó4 DataFrame (interactive, colored)\n Row ‚îÇ p        E_D      P_consensus  Trials\n     ‚îÇ Float64  Float64  Float64      Int64\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n   1 ‚îÇ     0.0   1.0           0.0      2000\n   2 ‚îÇ     0.1   0.9       0.00015      2000\n   3 ‚îÇ     0.2   0.8        0.0032      2000\n  ...","category":"section"},{"location":"getting_started/#Plots","page":"Getting Started","title":"Plots","text":"# Discrepancy plot\nplot_discrepancy_vs_p(results;\n                      title=\"AMP: Expected Discrepancy vs p\",\n                      save_path=\"amp_discrepancy.png\")\n\n# Consensus probability plot\nplot_consensus_vs_p(results;\n                    title=\"AMP: Consensus Probability vs p\",\n                    save_path=\"amp_consensus.png\")\n\nAll plots are 300 DPI and ready for publication!","category":"section"},{"location":"getting_started/#Comparing-Protocols","page":"Getting Started","title":"Comparing Protocols","text":"# Define another protocol\nFV = Protocol(\"\"\"\nPROTOCOL FV\nPROCESSES: 2\nSTATE:\n    x ‚àà {0,1}\nINITIAL VALUES:\n    [0.0, 1.0]\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê received_other(x)\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\nresults_fv = run_protocol(FV; p_values=0.0:0.1:1.0, repetitions=2000)\n\n# Comparison table\nresults_comparison_table(Dict(\n    \"AMP\" => results,\n    \"FV\" => results_fv\n))\n\n# Comparison plot\nplot_comparison(\n    Dict(\"AMP\" => results, \"FV\" => results_fv);\n    metric=:discrepancy,\n    save_path=\"amp_vs_fv.png\"\n)","category":"section"},{"location":"getting_started/#Jupyter-Notebooks","page":"Getting Started","title":"Jupyter Notebooks","text":"For the best experience, use StochProtocol in Jupyter notebooks:\n\nInteractive tables - DataFrames with colors and sorting\nInline plots - See results immediately\n\nExample notebook setup:\n\nusing Pkg\nPkg.activate(\".\")\nusing StochProtocol\n\n# Define, run, visualize\nAMP = Protocol(\"\"\"...\"\"\")\nresults = run_protocol(AMP; p_values=0.0:0.1:1.0)\nresults_table(results)","category":"section"},{"location":"quickstart/#Quick-Start","page":"Quick Start","title":"Quick Start","text":"Get up and running with StochProtocol.jl in 5 minutes.","category":"section"},{"location":"quickstart/#Installation","page":"Quick Start","title":"Installation","text":"julia> using Pkg\n\njulia> Pkg.add(\"StochProtocol\")","category":"section"},{"location":"quickstart/#Your-First-Protocol","page":"Quick Start","title":"Your First Protocol","text":"Let's analyze the AMP (Averaging Meeting Point) protocol.","category":"section"},{"location":"quickstart/#Step-1:-Load-the-Package","page":"Quick Start","title":"Step 1: Load the Package","text":"using StochProtocol","category":"section"},{"location":"quickstart/#Step-2:-Define-the-Protocol","page":"Quick Start","title":"Step 2: Define the Protocol","text":"Use the Protocol() wrapper for beautiful display:\n\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\nSTATE:\n    x ‚àà {0,1}\nINITIAL VALUES:\n    [0.0, 1.0]\nPARAMETERS:\n    y ‚àà [0,1] = 0.5\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê y\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\nWhen you display AMP, you'll see:\n\n‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n‚îÇ  Protocol: AMP                                             ‚îÇ\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ\n\n  PROTOCOL AMP\n  PROCESSES: 2\n  STATE:\n      x ‚àà {0,1}\n  ...\n\n  ‚úì Protocol loaded and ready to run","category":"section"},{"location":"quickstart/#Step-3:-Run-Experiments","page":"Quick Start","title":"Step 3: Run Experiments","text":"results = run_protocol(AMP;\n                       p_values=0.0:0.1:1.0,  # Message delivery probabilities\n                       rounds=1,               # Communication rounds\n                       repetitions=2000)       # Monte Carlo samples\n\ntip: Parameter Shortcuts\np_values accepts ranges: 0.0:0.1:1.0 or lists: [0.2, 0.5, 0.8]\nseed is optional - omit for random, specify for reproducibility\nDefault repetitions=2000 balances speed and accuracy","category":"section"},{"location":"quickstart/#Step-4:-View-Results","page":"Quick Start","title":"Step 4: View Results","text":"Interactive Table (beautiful in Jupyter!):\n\nresults_table(results; protocol_name=\"AMP (y=0.5)\")\n\nOutput:\n\nResults: AMP (y=0.5)\n\n11√ó4 DataFrame (colored & interactive in Jupyter)\n Row ‚îÇ p        E_D       P_consensus  Trials\n     ‚îÇ Float64  Float64   Float64      Int64\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n   1 ‚îÇ     0.0  1.0             0.0      2000\n   2 ‚îÇ     0.1  0.9        0.00015      2000\n  ...\n\nPublication Plot:\n\nplot_discrepancy_vs_p(results;\n                      title=\"AMP: Expected Discrepancy vs p\",\n                      save_path=\"amp_discrepancy.png\")\n\nThe plot is automatically:\n\n‚úÖ Professional styling\n‚úÖ Saved as PNG\n‚úÖ Displayed inline (in Jupyter)","category":"section"},{"location":"quickstart/#What's-Next?","page":"Quick Start","title":"What's Next?","text":"","category":"section"},{"location":"quickstart/#Compare-Protocols","page":"Quick Start","title":"Compare Protocols","text":"# Define FV protocol\nFV = Protocol(\"\"\"\nPROTOCOL FV\nPROCESSES: 2\nSTATE:\n    x ‚àà {0,1}\nINITIAL VALUES:\n    [0.0, 1.0]\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê received_other(x)\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\nresults_fv = run_protocol(FV; p_values=0.0:0.1:1.0, repetitions=2000)\n\n# Side-by-side comparison\nresults_comparison_table(Dict(\n    \"AMP\" => results,\n    \"FV\" => results_fv\n))\n\n# Comparative plot\nplot_comparison(\n    Dict(\"AMP\" => results, \"FV\" => results_fv);\n    metric=:discrepancy,\n    save_path=\"comparison.png\"\n)","category":"section"},{"location":"quickstart/#Jupyter-Notebook-Setup","page":"Quick Start","title":"Jupyter Notebook Setup","text":"using Pkg\nPkg.activate(\".\")  # Activate project environment\nusing StochProtocol\n\n# Define, run, visualize - no semicolons needed!\nAMP = Protocol(\"\"\"...\"\"\")\nresults = run_protocol(AMP; p_values=0.0:0.1:1.0)\nresults_table(results)","category":"section"},{"location":"quickstart/#Reproducible-Research","page":"Quick Start","title":"Reproducible Research","text":"# Fixed seed for reproducibility\nresults = run_protocol(AMP;\n                       p_values=0.0:0.05:1.0,\n                       repetitions=5000,\n                       seed=42)  # Same results every time","category":"section"},{"location":"quickstart/#Parameter-Sweeps","page":"Quick Start","title":"Parameter Sweeps","text":"# Analyze how parameter y affects performance\nfor y in [0.3, 0.4, 0.5, 0.6, 0.7]\n    protocol = make_amp_protocol(y)  # Helper function\n    results = run_protocol(protocol; p_values=0.0:0.1:1.0)\n    plot_discrepancy_vs_p(results;\n                          title=\"AMP (y=$y)\",\n                          save_path=\"amp_y$(y).png\")\nend","category":"section"},{"location":"quickstart/#Tips-and-Tricks","page":"Quick Start","title":"Tips & Tricks","text":"tip: Protocol() Display\nUse Protocol(\"\"\"...\"\"\") instead of plain strings - it displays beautifully without needing ;\n\ntip: Jupyter Tables\nIn Jupyter, results_table() returns an interactive DataFrame with:‚úÖ Colored headers\n‚úÖ Sortable columns\n‚úÖ Hover tooltips\n‚úÖ Easy copy/paste\n\ntip: Fast Iteration\nUse fewer repetitions (e.g., 500) while developing, then increase to 5000+ for final results.\n\nwarning: Memory Usage\nVery large parameter sweeps (many p-values √ó high repetitions √ó many rounds) can use significant memory. Start small and scale up.","category":"section"},{"location":"guides/experiments/#Running-Experiments","page":"Running Experiments","title":"Running Experiments","text":"Complete guide to running simulations and analyzing results with StochProtocol\n\n","category":"section"},{"location":"guides/experiments/#Quick-Start","page":"Running Experiments","title":"Quick Start","text":"<div class=\"admonition is-info\">\n    <div class=\"admonition-header\">üéØ Main Function</div>\n    <p>The primary entry point for all experiments is <code>run_protocol</code>. It handles Monte Carlo simulation, statistical analysis, and result aggregation automatically.</p>\n</div>\n\nThe main function for running experiments is run_protocol:\n\nusing StochProtocol\n\nresults = run_protocol(my_protocol;\n    p_values = 0.0:0.1:1.0,\n    rounds = 1,\n    repetitions = 2000,\n    seed = 42\n)\n\n","category":"section"},{"location":"guides/experiments/#run_protocol-Function","page":"Running Experiments","title":"run_protocol Function","text":"","category":"section"},{"location":"guides/experiments/#Signature","page":"Running Experiments","title":"Signature","text":"run_protocol(protocol;\n    p_values = 0:0.05:1,\n    rounds::Int = 1,\n    repetitions::Int = 2000,\n    seed::Union{Int,Nothing} = nothing,\n    consensus_eps::Float64 = 1e-6,\n    debug::Bool = false,\n    trace::Bool = false,\n    trace_limit::Int = 1\n)","category":"section"},{"location":"guides/experiments/#Parameters","page":"Running Experiments","title":"Parameters","text":"Parameter Type Default Description\nprotocol Protocol or String - Protocol definition or file path\np_values Range or Vector 0:0.05:1 Delivery probabilities to test\nrounds Int 1 Number of communication rounds\nrepetitions Int 2000 Monte Carlo repetitions per p value\nseed Int or nothing nothing Random seed (auto if nothing)\nconsensus_eps Float64 1e-6 Consensus threshold (discrepancy ‚â§ Œµ)\ndebug Bool false Print debug information\ntrace Bool false Show detailed execution trace\ntrace_limit Int 1 Max repetitions to trace","category":"section"},{"location":"guides/experiments/#Return-Value","page":"Running Experiments","title":"Return Value","text":"Returns an ExploreRun object containing results for all p values.\n\n","category":"section"},{"location":"guides/experiments/#Configuring-Experiments","page":"Running Experiments","title":"Configuring Experiments","text":"","category":"section"},{"location":"guides/experiments/#Probability-Ranges","page":"Running Experiments","title":"Probability Ranges","text":"Test across different delivery probabilities:\n\n# Coarse sweep\nresults = run_protocol(proto; p_values=0.0:0.2:1.0)\n\n# Fine sweep\nresults = run_protocol(proto; p_values=0.0:0.01:1.0)\n\n# Specific values\nresults = run_protocol(proto; p_values=[0.5, 0.7, 0.9, 1.0])\n\n# High probability region\nresults = run_protocol(proto; p_values=0.8:0.02:1.0)","category":"section"},{"location":"guides/experiments/#Number-of-Rounds","page":"Running Experiments","title":"Number of Rounds","text":"Control how many communication rounds to simulate:\n\n# Single round\nresults = run_protocol(proto; rounds=1)\n\n# Multiple rounds to study convergence\nresults = run_protocol(proto; rounds=10)\n\n# Many rounds for slow protocols\nresults = run_protocol(proto; rounds=100)","category":"section"},{"location":"guides/experiments/#Repetitions","page":"Running Experiments","title":"Repetitions","text":"More repetitions = better statistics but longer runtime:\n\n# Quick test\nresults = run_protocol(proto; repetitions=100)\n\n# Standard analysis\nresults = run_protocol(proto; repetitions=2000)\n\n# High-precision analysis\nresults = run_protocol(proto; repetitions=10000)\n\n<div class=\"admonition is-success\">\n    <div class=\"admonition-header\">üìä Repetition Guidelines</div>\n    <ul style=\"margin: 0.5rem 0;\">\n        <li><strong>100-500</strong>: Quick testing during development</li>\n        <li><strong>1000-2000</strong>: Standard analysis for most use cases</li>\n        <li><strong>5000+</strong>: Publication-quality, high-precision results</li>\n    </ul>\n</div>","category":"section"},{"location":"guides/experiments/#Random-Seeds","page":"Running Experiments","title":"Random Seeds","text":"Control reproducibility:\n\n# Reproducible (same results every time)\nresults = run_protocol(proto; seed=42)\n\n# Different seed\nresults = run_protocol(proto; seed=123)\n\n# Random (different each run)\nresults = run_protocol(proto; seed=nothing)  # default","category":"section"},{"location":"guides/experiments/#Consensus-Threshold","page":"Running Experiments","title":"Consensus Threshold","text":"Adjust what counts as consensus:\n\n# Strict consensus (default)\nresults = run_protocol(proto; consensus_eps=1e-6)\n\n# Looser consensus\nresults = run_protocol(proto; consensus_eps=1e-3)\n\n# Very loose (for noisy protocols)\nresults = run_protocol(proto; consensus_eps=0.01)\n\n","category":"section"},{"location":"guides/experiments/#Working-with-Results","page":"Running Experiments","title":"Working with Results","text":"","category":"section"},{"location":"guides/experiments/#Viewing-Results","page":"Running Experiments","title":"Viewing Results","text":"# Beautiful table in Jupyter\nresults_table(results)\n\n# With custom protocol name\nresults_table(results; protocol_name=\"My Protocol\")\n\n# Summary statistics\nsummary(results)\n\n# Raw data access\nfor result in results\n    println(\"p=$(result.p): E[D]=$(result.mean_discrepancy)\")\nend","category":"section"},{"location":"guides/experiments/#Extracting-Data","page":"Running Experiments","title":"Extracting Data","text":"# Get all p values tested\np_vals = [r.p for r in results]\n\n# Get expected discrepancies\nE_D = [r.mean_discrepancy for r in results]\n\n# Get consensus probabilities\nP_consensus = [r.consensus_probability for r in results]\n\n# Get number of repetitions (useful for guaranteed models)\nreps = [r.repetitions for r in results]\n\n","category":"section"},{"location":"guides/experiments/#Visualization","page":"Running Experiments","title":"Visualization","text":"","category":"section"},{"location":"guides/experiments/#Discrepancy-vs-Probability","page":"Running Experiments","title":"Discrepancy vs Probability","text":"using StochProtocol\n\nplot_discrepancy_vs_p(results;\n    title = \"Protocol Performance\",\n    xlabel = \"Delivery Probability p\",\n    ylabel = \"Expected Discrepancy E[D]\",\n    save_path = \"results.png\"  # Optional: save to file\n)\n\nOptions:\n\ntitle: Plot title\nxlabel, ylabel: Axis labels\nsave_path: Save to file (PNG, PDF, SVG)\nsize: Plot dimensions (default: (800, 600))\ndpi: Resolution (default: 300)","category":"section"},{"location":"guides/experiments/#Consensus-vs-Probability","page":"Running Experiments","title":"Consensus vs Probability","text":"plot_consensus_vs_p(results;\n    title = \"Consensus Probability\",\n    save_path = \"consensus.png\"\n)","category":"section"},{"location":"guides/experiments/#Comparing-Multiple-Protocols","page":"Running Experiments","title":"Comparing Multiple Protocols","text":"results_amp = run_protocol(amp; p_values=0.0:0.1:1.0)\nresults_fv = run_protocol(fv; p_values=0.0:0.1:1.0)\n\nplot_comparison([\n    (\"AMP\", results_amp),\n    (\"FV\", results_fv)\n];\n    title = \"Protocol Comparison\",\n    save_path = \"comparison.png\"\n)\n\n","category":"section"},{"location":"guides/experiments/#Advanced-Usage","page":"Running Experiments","title":"Advanced Usage","text":"","category":"section"},{"location":"guides/experiments/#Debugging","page":"Running Experiments","title":"Debugging","text":"Enable debug mode to see what's happening:\n\nresults = run_protocol(proto;\n    p_values = [0.5],\n    repetitions = 10,\n    debug = true\n)","category":"section"},{"location":"guides/experiments/#Execution-Traces","page":"Running Experiments","title":"Execution Traces","text":"See detailed round-by-round execution:\n\nresults = run_protocol(proto;\n    p_values = [0.7],\n    repetitions = 5,\n    trace = true,\n    trace_limit = 2  # Only trace first 2 repetitions\n)\n\nOutput shows:\n\nState before each round\nMessages received\nState after update\nDiscrepancy and consensus status","category":"section"},{"location":"guides/experiments/#Parameter-Sweeps","page":"Running Experiments","title":"Parameter Sweeps","text":"Explore protocol behavior across parameter spaces:\n\nusing StochProtocol\n\nfunction make_amp(y_val)\n    return Protocol(\"\"\"\n    PROTOCOL AMP_y$y_val\n    PROCESSES: 2\n    STATE: x ‚àà {0,1}\n    INITIAL VALUES: [0.0, 1.0]\n    PARAMETERS: y = $y_val\n    CHANNEL: stochastic\n    UPDATE RULE:\n        EACH ROUND:\n            if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\n    METRICS: discrepancy, consensus\n    \"\"\")\nend\n\nfor y in 0.0:0.1:1.0\n    proto = make_amp(y)\n    results = run_protocol(proto; p_values=0.5:0.1:1.0, repetitions=1000)\n    println(\"y=$y, E[D] at p=0.8: $(results[7].mean_discrepancy)\")\nend","category":"section"},{"location":"guides/experiments/#Batch-Analysis","page":"Running Experiments","title":"Batch Analysis","text":"Run multiple experiments efficiently:\n\nprotocols = [\n    (\"AMP\", amp_protocol),\n    (\"FV\", fv_protocol),\n    (\"MIN\", min_protocol)\n]\n\nall_results = []\n\nfor (name, proto) in protocols\n    println(\"Running $name...\")\n    results = run_protocol(proto;\n        p_values = 0.0:0.05:1.0,\n        repetitions = 2000,\n        seed = 42\n    )\n    push!(all_results, (name, results))\n\n    # Save individual results\n    plot_discrepancy_vs_p(results;\n        title = \"$name Protocol\",\n        save_path = \"$(name)_results.png\"\n    )\nend\n\n# Compare all\nresults_comparison_table(all_results)\n\n","category":"section"},{"location":"guides/experiments/#Performance-Tips","page":"Running Experiments","title":"Performance Tips","text":"","category":"section"},{"location":"guides/experiments/#Optimize-Repetitions","page":"Running Experiments","title":"Optimize Repetitions","text":"# Start with fewer repetitions during development\ndev_results = run_protocol(proto; p_values=0.0:0.2:1.0, repetitions=100)\n\n# Scale up for final analysis\nfinal_results = run_protocol(proto; p_values=0.0:0.05:1.0, repetitions=5000)","category":"section"},{"location":"guides/experiments/#Reduce-p-value-Granularity","page":"Running Experiments","title":"Reduce p-value Granularity","text":"# Coarse first\nquick = run_protocol(proto; p_values=0.0:0.1:1.0, repetitions=500)\n\n# Then zoom into interesting regions\ndetailed = run_protocol(proto; p_values=0.7:0.01:0.9, repetitions=2000)","category":"section"},{"location":"guides/experiments/#Guaranteed-Models","page":"Running Experiments","title":"Guaranteed Models","text":"For guaranteed delivery models, you may need more attempts:\n\n# Standard model: 2000 repetitions = 2000 valid runs\n# Guaranteed model at low p: may need 100x attempts to get 2000 valid runs\n\nresults = run_protocol(guaranteed_proto;\n    p_values = 0.3:0.1:1.0,  # Start from higher p\n    repetitions = 1000        # May get fewer than 1000 at low p\n)\n\n","category":"section"},{"location":"guides/experiments/#Common-Patterns","page":"Running Experiments","title":"Common Patterns","text":"","category":"section"},{"location":"guides/experiments/#Quick-Test","page":"Running Experiments","title":"Quick Test","text":"# Fast test during development\ntest = run_protocol(my_proto;\n    p_values = [0.5, 0.9],\n    repetitions = 100,\n    seed = 42\n)","category":"section"},{"location":"guides/experiments/#Publication-Analysis","page":"Running Experiments","title":"Publication Analysis","text":"# High-quality results for papers\nfinal = run_protocol(my_proto;\n    p_values = 0.0:0.02:1.0,\n    repetitions = 5000,\n    seed = 42\n)\n\nplot_discrepancy_vs_p(final;\n    title = \"Protocol Performance\",\n    save_path = \"figure1.pdf\",\n    dpi = 300\n)","category":"section"},{"location":"guides/experiments/#Convergence-Study","page":"Running Experiments","title":"Convergence Study","text":"# Study how many rounds needed\nfor rounds in [1, 5, 10, 20, 50]\n    results = run_protocol(proto;\n        rounds = rounds,\n        p_values = 0.7:0.1:1.0,\n        repetitions = 1000\n    )\n    println(\"Rounds=$rounds, E[D] at p=0.9: $(results[3].mean_discrepancy)\")\nend\n\n","category":"section"},{"location":"guides/experiments/#See-Also","page":"Running Experiments","title":"See Also","text":"Protocol DSL - Define protocols\nDelivery Models - Communication models\nVisualization Guide - Plotting and tables\nAPI Reference - Function details","category":"section"},{"location":"examples/overview/#Examples","page":"Overview","title":"Examples","text":"Real-world protocols and use cases to get you started\n\n<div class=\"admonition is-success\">\n    <div class=\"admonition-header\">üí° Learning Path</div>\n    <p>Start with the <strong>Hello World</strong> example to understand the basics, then explore <strong>Classic Protocols</strong> for common patterns, and finally dive into <strong>Advanced Examples</strong> for research-grade implementations.</p>\n</div>\n\n","category":"section"},{"location":"examples/overview/#Getting-Started-Examples","page":"Overview","title":"Getting Started Examples","text":"","category":"section"},{"location":"examples/overview/#Hello-World:-AMP-Protocol","page":"Overview","title":"Hello World: AMP Protocol","text":"The simplest meaningful protocol - averaging with meeting point.\n\nusing StochProtocol\n\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\nSTATE: x ‚àà {0,1}\nINITIAL VALUES: [0.0, 1.0]\nPARAMETERS: y = 0.5\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\nresults = run_protocol(AMP; p_values=0.0:0.1:1.0, repetitions=2000)\nresults_table(results)\nplot_discrepancy_vs_p(results)\n\nTakeaway: When processes disagree, they move to meeting point y=0.5.\n\n","category":"section"},{"location":"examples/overview/#Classic-Protocols","page":"Overview","title":"Classic Protocols","text":"","category":"section"},{"location":"examples/overview/#Simple-Averaging","page":"Overview","title":"Simple Averaging","text":"Processes average their values with received messages.\n\naveraging = Protocol(\"\"\"\nPROTOCOL Averaging\nPROCESSES: 10\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = i\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\nresults = run_protocol(averaging; rounds=10, p_values=0.5:0.1:1.0)\n\nUse Case: Study convergence rates under different communication probabilities.\n\n","category":"section"},{"location":"examples/overview/#Minimum-Protocol","page":"Overview","title":"Minimum Protocol","text":"Processes converge to the minimum value.\n\nminimum = Protocol(\"\"\"\nPROTOCOL Minimum\nPROCESSES: 5\nSTATE: x ‚àà ‚Ñù\nINITIAL VALUES: [5.0, 3.0, 8.0, 1.0, 6.0]\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_any then\n            x·µ¢ ‚Üê min(inbox_with_self)\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\nInsight: Minimum spreads through network, but requires at least one message delivery.\n\n","category":"section"},{"location":"examples/overview/#Delivery-Model-Examples","page":"Overview","title":"Delivery Model Examples","text":"","category":"section"},{"location":"examples/overview/#Guaranteed-Delivery","page":"Overview","title":"Guaranteed Delivery","text":"Ensure minimum connectivity requirements.\n\nguaranteed = Protocol(\"\"\"\nPROTOCOL GuaranteedAMP\nPROCESSES: 3\nSTATE: x ‚àà {0,1}\nINITIAL VALUES: [0.0, 0.5, 1.0]\nPARAMETERS: y = 0.5\nCHANNEL: stochastic\n\nMODEL:\n    guaranteed k=2 scope=per_round\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\n# At low p, many runs will be filtered out\nresults = run_protocol(guaranteed; p_values=0.5:0.1:1.0, repetitions=2000)\n\nUse Case: Study protocols under QoS guarantees or minimum connectivity assumptions.\n\n","category":"section"},{"location":"examples/overview/#Broadcast-Communication","page":"Overview","title":"Broadcast Communication","text":"All-or-nothing delivery per source.\n\nbroadcast = Protocol(\"\"\"\nPROTOCOL BroadcastAveraging\nPROCESSES: 4\nSTATE: x ‚àà ‚Ñù\nINITIAL VALUES: [0.0, 1.0, 2.0, 3.0]\nCHANNEL: stochastic\n\nMODEL:\n    broadcast probability=per_source\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\nUse Case: Simulate atomic broadcast or correlated failures.\n\n","category":"section"},{"location":"examples/overview/#Hybrid-Models","page":"Overview","title":"Hybrid Models","text":"Different processes with different delivery characteristics.\n\nhybrid = Protocol(\"\"\"\nPROTOCOL HeterogeneousNetwork\nPROCESSES: 6\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = i\nCHANNEL: stochastic\n\nMODEL:\n    process 1: standard\n    process 2: standard\n    process 3: broadcast\n    process 4: broadcast\n    process 5: guaranteed k=3 scope=per_round\n    process 6: guaranteed k=3 scope=per_round\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\nUse Case: Simulate heterogeneous networks with different node capabilities.\n\n","category":"section"},{"location":"examples/overview/#Advanced-Examples","page":"Overview","title":"Advanced Examples","text":"","category":"section"},{"location":"examples/overview/#Multi-Round-Convergence-Study","page":"Overview","title":"Multi-Round Convergence Study","text":"using StochProtocol\n\nproto = Protocol(\"\"\"\nPROTOCOL ConvergenceStudy\nPROCESSES: 20\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = i\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\n# Study convergence over increasing rounds\nfor rounds in [1, 2, 5, 10, 20, 50]\n    results = run_protocol(proto;\n        rounds = rounds,\n        p_values = [0.7, 0.9],\n        repetitions = 1000\n    )\n\n    println(\"Rounds: $rounds\")\n    println(\"  p=0.7: E[D]=$(results[1].mean_discrepancy)\")\n    println(\"  p=0.9: E[D]=$(results[2].mean_discrepancy)\")\nend\n\n","category":"section"},{"location":"examples/overview/#Protocol-Comparison","page":"Overview","title":"Protocol Comparison","text":"using StochProtocol\n\n# Define multiple protocols\nprotocols = Dict(\n    \"AMP\" => Protocol(\"\"\"\n        PROTOCOL AMP\n        PROCESSES: 3\n        STATE: x ‚àà {0,1}\n        INITIAL VALUES: [0.0, 0.5, 1.0]\n        PARAMETERS: y = 0.5\n        CHANNEL: stochastic\n        UPDATE RULE:\n            EACH ROUND:\n                if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\n        METRICS: discrepancy, consensus\n    \"\"\"),\n\n    \"Averaging\" => Protocol(\"\"\"\n        PROTOCOL Averaging\n        PROCESSES: 3\n        STATE: x ‚àà ‚Ñù\n        INITIAL VALUES: [0.0, 0.5, 1.0]\n        CHANNEL: stochastic\n        UPDATE RULE:\n            EACH ROUND:\n                x·µ¢ ‚Üê avg(inbox_with_self)\n        METRICS: discrepancy, consensus\n    \"\"\"),\n\n    \"Minimum\" => Protocol(\"\"\"\n        PROTOCOL Minimum\n        PROCESSES: 3\n        STATE: x ‚àà ‚Ñù\n        INITIAL VALUES: [0.0, 0.5, 1.0]\n        CHANNEL: stochastic\n        UPDATE RULE:\n            EACH ROUND:\n                x·µ¢ ‚Üê min(inbox_with_self)\n        METRICS: discrepancy, consensus\n    \"\"\")\n)\n\n# Run all protocols\nall_results = []\np_range = 0.0:0.1:1.0\n\nfor (name, proto) in protocols\n    println(\"Running $name...\")\n    results = run_protocol(proto; p_values=p_range, repetitions=2000, seed=42)\n    push!(all_results, (name, results))\nend\n\n# Compare\nresults_comparison_table(all_results)\nplot_comparison(all_results; save_path=\"comparison.png\")\n\n","category":"section"},{"location":"examples/overview/#Parameter-Sweep","page":"Overview","title":"Parameter Sweep","text":"Explore how protocol parameters affect performance.\n\nfunction create_amp(y_value)\n    Protocol(\"\"\"\n    PROTOCOL AMP_y$(y_value)\n    PROCESSES: 2\n    STATE: x ‚àà {0,1}\n    INITIAL VALUES: [0.0, 1.0]\n    PARAMETERS: y = $y_value\n    CHANNEL: stochastic\n    UPDATE RULE:\n        EACH ROUND:\n            if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\n    METRICS: discrepancy, consensus\n    \"\"\")\nend\n\n# Sweep over y parameter\ny_values = 0.0:0.1:1.0\np_test = 0.8\n\nfor y in y_values\n    proto = create_amp(y)\n    results = run_protocol(proto; p_values=[p_test], repetitions=1000)\n    E_D = results[1].mean_discrepancy\n\n    println(\"y=$y, p=$p_test: E[D]=$E_D\")\nend\n\n","category":"section"},{"location":"examples/overview/#Real-World-Inspired-Examples","page":"Overview","title":"Real-World Inspired Examples","text":"","category":"section"},{"location":"examples/overview/#Sensor-Network-Averaging","page":"Overview","title":"Sensor Network Averaging","text":"sensor_net = Protocol(\"\"\"\nPROTOCOL SensorNetwork\nPROCESSES: 25\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = 20.0 + randn()  # Temperature readings with noise\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê 0.8 * x + 0.2 * avg(inbox)  # Weighted average\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")","category":"section"},{"location":"examples/overview/#Leader-Election-Simulation","page":"Overview","title":"Leader Election Simulation","text":"leader = Protocol(\"\"\"\nPROTOCOL LeaderElection\nPROCESSES: 10\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = i  # Each process has unique ID\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê max(inbox_with_self)  # Propagate maximum ID\n\n    END:\n        # Leader is process with max ID\n        x·µ¢ ‚Üê max(inbox_with_self)\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\n","category":"section"},{"location":"examples/overview/#Running-the-Examples","page":"Overview","title":"Running the Examples","text":"All examples are available in the examples/ directory:\n\n# Run delivery models demo\njulia examples/delivery_models_demo.jl\n\n# Run quickstart examples\njulia examples/quickstart.jl\n\n# Run protocol comparison\njulia examples/literature_protocols.jl\n\n","category":"section"},{"location":"examples/overview/#Creating-Your-Own-Examples","page":"Overview","title":"Creating Your Own Examples","text":"","category":"section"},{"location":"examples/overview/#Template","page":"Overview","title":"Template","text":"using StochProtocol\n\nmy_protocol = Protocol(\"\"\"\nPROTOCOL MyProtocol\nPROCESSES: N\nSTATE: x ‚àà Domain\nINITIAL VALUES: [...]\nCHANNEL: stochastic\n\nMODEL:\n    # Optional delivery model\n\nUPDATE RULE:\n    EACH ROUND:\n        # Your update logic\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\n# Experiment\nresults = run_protocol(my_protocol;\n    p_values = 0.0:0.1:1.0,\n    rounds = 1,\n    repetitions = 2000\n)\n\n# Analyze\nresults_table(results)\nplot_discrepancy_vs_p(results)\n\n","category":"section"},{"location":"examples/overview/#See-Also","page":"Overview","title":"See Also","text":"Quick Start - Get started in 5 minutes\nProtocol DSL - Language reference\nDelivery Models - Communication models\nExperiments Guide - Running simulations","category":"section"},{"location":"guides/dsl/#Protocol-DSL-Reference","page":"Protocol DSL","title":"Protocol DSL Reference","text":"Complete reference for the StochProtocol protocol specification language\n\n","category":"section"},{"location":"guides/dsl/#Overview","page":"Protocol DSL","title":"Overview","text":"The Protocol DSL lets you define distributed consensus protocols using mathematical notation that mirrors research papers.\n\n<div class=\"admonition is-info\">\n    <div class=\"admonition-header\">‚ú® Design Philosophy</div>\n    <p><strong>No boilerplate code‚Äîjust the essential protocol logic.</strong> Write protocols the way you think about them, using the same notation you'd use in a paper.</p>\n</div>","category":"section"},{"location":"guides/dsl/#Basic-Structure","page":"Protocol DSL","title":"Basic Structure","text":"PROTOCOL <Name>                      # Protocol identifier\nPROCESSES: <N>                       # Number of processes\nSTATE: <variable> ‚àà <domain>         # State variable and domain\nINITIAL VALUES: [v1, v2, ..., vN]    # Explicit initial values\n  # OR\nINITIAL: <expression>                # Formula-based initialization\n\nPARAMETERS: <params>                 # Optional parameters\nCHANNEL: stochastic                  # Channel type\nMODEL: <delivery_model>              # Optional delivery model\n\nUPDATE RULE:\n    <phase>:                         # When to execute\n        <rule>                       # How to update state\n\nMETRICS: <metric1>, <metric2>        # What to measure\n\n<div class=\"admonition is-success\">\n    <div class=\"admonition-header\">üí° Quick Tip</div>\n    <p>Start with the simplest possible protocol, then add complexity incrementally. Every section except PARAMETERS and MODEL is required.</p>\n</div>\n\n","category":"section"},{"location":"guides/dsl/#Sections","page":"Protocol DSL","title":"Sections","text":"","category":"section"},{"location":"guides/dsl/#PROTOCOL","page":"Protocol DSL","title":"PROTOCOL","text":"PROTOCOL <ProtocolName>\n\nRequired. Defines the protocol name.\n\nExample:\n\nPROTOCOL AMP\nPROTOCOL SimpleAveraging\nPROTOCOL FV_Protocol\n\n","category":"section"},{"location":"guides/dsl/#PROCESSES","page":"Protocol DSL","title":"PROCESSES","text":"PROCESSES: <N>\n\nRequired. Specifies the number of processes in the system.\n\nExample:\n\nPROCESSES: 2\nPROCESSES: 10\nPROCESSES: 100\n\n","category":"section"},{"location":"guides/dsl/#STATE","page":"Protocol DSL","title":"STATE","text":"STATE:\n    <variable> ‚àà <domain>\n\nRequired. Declares the state variable and its domain.\n\nSupported Domains:\n\n{0,1} - Binary values\n‚Ñù or R - Real numbers\n[a,b] - Interval (parsed as real)\n\nExample:\n\nSTATE:\n    x ‚àà {0,1}\n\nSTATE:\n    x ‚àà ‚Ñù\n\nSTATE:\n    value ‚àà [0,1]\n\n","category":"section"},{"location":"guides/dsl/#INITIAL-VALUES-/-INITIAL","page":"Protocol DSL","title":"INITIAL VALUES / INITIAL","text":"Two ways to initialize state:","category":"section"},{"location":"guides/dsl/#Option-1:-Explicit-Values","page":"Protocol DSL","title":"Option 1: Explicit Values","text":"INITIAL VALUES:\n    [v1, v2, ..., vN]\n\nProvide explicit initial values for each process.\n\nExample:\n\nINITIAL VALUES:\n    [0.0, 1.0]          # 2 processes\n\nINITIAL VALUES:\n    [0.0, 0.5, 1.0]     # 3 processes","category":"section"},{"location":"guides/dsl/#Option-2:-Formula","page":"Protocol DSL","title":"Option 2: Formula","text":"INITIAL:\n    x·µ¢ = <expression in i>\n\nUse a formula where i is the process ID (1-indexed).\n\nExample:\n\nINITIAL:\n    x·µ¢ = i              # Process i starts with value i\n\nINITIAL:\n    x·µ¢ = i / N          # Normalized by number of processes\n\nINITIAL:\n    x·µ¢ = (i - 1) * 0.1  # 0.0, 0.1, 0.2, ...\n\n","category":"section"},{"location":"guides/dsl/#PARAMETERS","page":"Protocol DSL","title":"PARAMETERS","text":"PARAMETERS:\n    <param> ‚àà <domain> = <default>\n\nOptional. Define protocol parameters (e.g., meeting points).\n\nExample:\n\nPARAMETERS:\n    y ‚àà [0,1] = 0.5\n\nPARAMETERS:\n    alpha = 0.3\n    beta ‚àà ‚Ñù = 1.0\n\nAccess parameters in update rules:\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê y          # Use parameter y\n\n","category":"section"},{"location":"guides/dsl/#CHANNEL","page":"Protocol DSL","title":"CHANNEL","text":"CHANNEL:\n    stochastic\n\nRequired. Currently only stochastic (Bernoulli) channels are supported.\n\n","category":"section"},{"location":"guides/dsl/#MODEL","page":"Protocol DSL","title":"MODEL","text":"MODEL:\n    <model_specification>\n\nOptional. Specifies the message delivery model. Defaults to standard if omitted.","category":"section"},{"location":"guides/dsl/#Standard-Model-(Default)","page":"Protocol DSL","title":"Standard Model (Default)","text":"MODEL:\n    standard\n\nIndependent probabilistic delivery for each message.","category":"section"},{"location":"guides/dsl/#Guaranteed-Model","page":"Protocol DSL","title":"Guaranteed Model","text":"MODEL:\n    guaranteed k=<N> scope=<per_round|total>\n\nEnsures minimum k messages delivered.\n\nParameters:\n\nk: Minimum messages required\nscope:\nper_round: Guarantee applies each round\ntotal: Guarantee applies to sum across all rounds\n\nExample:\n\nMODEL:\n    guaranteed k=3 scope=per_round\n\nFilters out simulation runs where any round has < 3 messages delivered.","category":"section"},{"location":"guides/dsl/#Broadcast-Model","page":"Protocol DSL","title":"Broadcast Model","text":"MODEL:\n    broadcast probability=<per_source|uniform>\n\nAll-or-nothing delivery per source process.\n\nExample:\n\nMODEL:\n    broadcast probability=per_source","category":"section"},{"location":"guides/dsl/#Process-Specific-Models","page":"Protocol DSL","title":"Process-Specific Models","text":"MODEL:\n    process <id>: <model_spec>\n    process <id>: <model_spec>\n    ...\n\nAssign different models to different processes.\n\nExample:\n\nMODEL:\n    process 1: standard\n    process 2: broadcast\n    process 3: guaranteed k=2 scope=per_round\n\nSee Delivery Models Guide for details.\n\n","category":"section"},{"location":"guides/dsl/#UPDATE-RULE","page":"Protocol DSL","title":"UPDATE RULE","text":"UPDATE RULE:\n    <PHASE>:\n        <rule>\n\nRequired. Defines how processes update their state.","category":"section"},{"location":"guides/dsl/#Phases","page":"Protocol DSL","title":"Phases","text":"EACH ROUND - Execute every round\nEND - Execute once after all rounds\nFIRST ROUND - Execute only in round 1\nAFTER ROUNDS <k> - Execute starting from round k+1\nUNTIL CONSENSUS - Execute until consensus is reached\n\nExample:\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\n    END:\n        x·µ¢ ‚Üê min(inbox_with_self)","category":"section"},{"location":"guides/dsl/#Update-Rules","page":"Protocol DSL","title":"Update Rules","text":"Simple Assignment:\n\nx·µ¢ ‚Üê <expression>\n\nConditional:\n\nif <condition> then\n    x·µ¢ ‚Üê <expr1>\nelse\n    x·µ¢ ‚Üê <expr2>\nend\n\nConditions:\n\nreceived_diff - Inbox contains value different from own\nreceived_any - Inbox is not empty\nreceived_all - Received message from all other processes\nreceived_at_least(k) - Received at least k messages\nreceived_majority - Received from majority\n\nArithmetic:\n\nx·µ¢ ‚Üê x + 1\nx·µ¢ ‚Üê x * 2 + y\nx·µ¢ ‚Üê (x + sum(inbox)) / 2\n\nAggregations:\n\navg(inbox) - Average of received values\navg(inbox_with_self) - Average including own value\nsum(inbox) - Sum of received values\nmin(inbox) - Minimum of received values\nmax(inbox) - Maximum of received values\ncount(inbox) - Number of messages received\n\nSpecial Values:\n\nx or self - Own current value\ny - Parameter (if defined)\nreceived_other_value - A different value from inbox (for FV-like protocols)\n\nExample:\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê y\n        else\n            x·µ¢ ‚Üê x\n        end\n\n","category":"section"},{"location":"guides/dsl/#METRICS","page":"Protocol DSL","title":"METRICS","text":"METRICS:\n    <metric1>\n    <metric2>\n\nOptional. Defaults to discrepancy and consensus if omitted.\n\nSupported Metrics:\n\ndiscrepancy - max(x) - min(x)\nconsensus - Whether all processes agree (within Œµ)\n\nExample:\n\nMETRICS:\n    discrepancy\n    consensus\n\n","category":"section"},{"location":"guides/dsl/#Complete-Examples","page":"Protocol DSL","title":"Complete Examples","text":"","category":"section"},{"location":"guides/dsl/#Example-1:-AMP-Protocol","page":"Protocol DSL","title":"Example 1: AMP Protocol","text":"Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\nSTATE:\n    x ‚àà {0,1}\nINITIAL VALUES:\n    [0.0, 1.0]\nPARAMETERS:\n    y ‚àà [0,1] = 0.5\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then\n            x·µ¢ ‚Üê y\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")","category":"section"},{"location":"guides/dsl/#Example-2:-Simple-Averaging","page":"Protocol DSL","title":"Example 2: Simple Averaging","text":"Protocol(\"\"\"\nPROTOCOL Averaging\nPROCESSES: 10\nSTATE:\n    x ‚àà ‚Ñù\nINITIAL:\n    x·µ¢ = i\nCHANNEL:\n    stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")","category":"section"},{"location":"guides/dsl/#Example-3:-Minimum-with-Broadcast","page":"Protocol DSL","title":"Example 3: Minimum with Broadcast","text":"Protocol(\"\"\"\nPROTOCOL MinProtocol\nPROCESSES: 5\nSTATE:\n    x ‚àà ‚Ñù\nINITIAL VALUES:\n    [5.0, 3.0, 8.0, 1.0, 6.0]\nCHANNEL:\n    stochastic\n\nMODEL:\n    broadcast probability=per_source\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_any then\n            x·µ¢ ‚Üê min(inbox_with_self)\n        else\n            x·µ¢ ‚Üê x\n        end\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\n","category":"section"},{"location":"guides/dsl/#Advanced-Features","page":"Protocol DSL","title":"Advanced Features","text":"","category":"section"},{"location":"guides/dsl/#Complex-Expressions","page":"Protocol DSL","title":"Complex Expressions","text":"UPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê (x + avg(inbox)) / 2","category":"section"},{"location":"guides/dsl/#Multiple-Conditions","page":"Protocol DSL","title":"Multiple Conditions","text":"UPDATE RULE:\n    EACH ROUND:\n        if received_majority then\n            x·µ¢ ‚Üê avg(inbox_with_self)\n        else\n            x·µ¢ ‚Üê x\n        end","category":"section"},{"location":"guides/dsl/#Multi-Phase-Updates","page":"Protocol DSL","title":"Multi-Phase Updates","text":"UPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\n    END:\n        x·µ¢ ‚Üê min(inbox_with_self)\n\n","category":"section"},{"location":"guides/dsl/#Tips-and-Best-Practices","page":"Protocol DSL","title":"Tips & Best Practices","text":"Start Simple: Begin with basic protocols before adding complexity\nTest Small: Use PROCESSES: 2 or 3 for initial testing\nUse Parameters: Make protocols configurable with PARAMETERS\nDescriptive Names: Use clear protocol names\nComments: While not officially supported, keep protocol definitions well-structured\n\n","category":"section"},{"location":"guides/dsl/#See-Also","page":"Protocol DSL","title":"See Also","text":"Quick Start - Get started quickly\nDelivery Models - Communication models\nExamples - Real-world protocols\nAPI Reference - Function documentation","category":"section"},{"location":"#StochProtocol.jl","page":"Home","title":"StochProtocol.jl","text":"<div style=\"text-align: center; margin: 2rem 0 3rem 0; padding: 3rem 2rem; background: var(--bg-2); border-radius: 12px; border: 2px solid var(--border);\">\n    <p style=\"font-size: 1.5rem; color: var(--text-1); font-weight: 400; margin: 0; line-height: 1.6;\">\n        Beautiful simulation framework for distributed consensus<br>under stochastic communication\n    </p>\n    <div style=\"margin-top: 2rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;\">\n        <a href=\"quickstart/\" style=\"display: inline-block; padding: 0.875rem 2rem; background: var(--gradient); color: white; border-radius: 8px; font-weight: 600; box-shadow: 0 4px 6px rgba(0,0,0,0.1);\">Get Started</a>\n        <a href=\"https://github.com/notGiGi/StochProtocol.jl\" style=\"display: inline-block; padding: 0.875rem 2rem; background: transparent; border: 2px solid var(--primary); color: var(--primary); border-radius: 8px; font-weight: 600;\">View on GitHub</a>\n    </div>\n</div>\n\n","category":"section"},{"location":"#What-is-StochProtocol?","page":"Home","title":"What is StochProtocol?","text":"StochProtocol.jl is a high-level Julia framework that lets you define, simulate, and analyze distributed consensus protocols using clean mathematical notation.\n\nNo boilerplate. No manual message passing. Just pure protocol logic.\n\nusing StochProtocol\n\n# Define a protocol in 30 seconds\nAMP = Protocol(\"\"\"\nPROTOCOL AMP\nPROCESSES: 2\nSTATE: x ‚àà {0,1}\nINITIAL VALUES: [0.0, 1.0]\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then x·µ¢ ‚Üê 0.5 else x·µ¢ ‚Üê x end\n\nMETRICS: discrepancy, consensus\n\"\"\")\n\n# Run 10,000 simulations across probability range\nresults = run_protocol(AMP; p_values=0.0:0.05:1.0, repetitions=2000)\n\n# Beautiful visualizations\nplot_discrepancy_vs_p(results)\nresults_table(results)\n\nThat's it. No event loops, no network simulation, no manual statistics‚ÄîStochProtocol handles it all.\n\n","category":"section"},{"location":"#Why-StochProtocol?","page":"Home","title":"Why StochProtocol?","text":"<div class=\"feature-grid\">\n    <div class=\"feature-card\">\n        <h3>Declarative Protocol Design</h3>\n        <p>Write protocols in paper-like mathematical notation. No coding required for protocol logic.</p>\n        <pre style=\"margin-top: 1rem; font-size: 0.85rem;\">UPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)</pre>\n    </div>\n\n    <div class=\"feature-card\">\n        <h3>Automatic Monte Carlo</h3>\n        <p>Run thousands of randomized experiments automatically. Get statistical distributions with a single function call.</p>\n    </div>\n\n    <div class=\"feature-card\">\n        <h3>Publication-Ready Output</h3>\n        <p>Beautiful interactive tables and plots ready for your papers and presentations.</p>\n    </div>\n\n    <div class=\"feature-card\">\n        <h3>Research-Grade Features</h3>\n        <ul style=\"margin: 0.5rem 0;\">\n            <li>Multiple delivery models (standard, guaranteed, broadcast)</li>\n            <li>Process-specific configurations</li>\n            <li>Multi-round dynamics tracking</li>\n            <li>Protocol comparison tools</li>\n        </ul>\n    </div>\n\n    <div class=\"feature-card\">\n        <h3>Fast & Efficient</h3>\n        <p>Optimized Julia core with deterministic RNG for reproducibility. Simulate thousands of runs in seconds.</p>\n    </div>\n\n    <div class=\"feature-card\">\n        <h3>Flexible Delivery Models</h3>\n        <p>Standard probabilistic, guaranteed delivery, broadcast semantics, or mix-and-match per process.</p>\n    </div>\n</div>\n\n","category":"section"},{"location":"#Quick-Example:-Averaging-Protocol","page":"Home","title":"Quick Example: Averaging Protocol","text":"using StochProtocol\n\n# Define the protocol\naveraging = Protocol(\"\"\"\nPROTOCOL SimpleAveraging\nPROCESSES: 10\nSTATE: x ‚àà ‚Ñù\nINITIAL: x·µ¢ = i\nCHANNEL: stochastic\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\n# Run experiments\nresults = run_protocol(averaging;\n    p_values = 0.5:0.1:1.0,\n    rounds = 5,\n    repetitions = 1000\n)\n\n# Visualize\nplot_discrepancy_vs_p(results;\n    title = \"Convergence Rate vs Probability\",\n    save_path = \"averaging_results.png\"\n)\n\nOutput: A beautiful plot showing how quickly consensus is reached as communication probability increases.\n\n","category":"section"},{"location":"#Key-Features","page":"Home","title":"Key Features","text":"<div style=\"overflow-x: auto; margin: 2rem 0;\">\n\nFeature Description\nProtocol DSL Paper-like syntax with full Julia expressions\nDelivery Models Standard, guaranteed delivery, broadcast, hybrid\nMetrics Discrepancy, consensus probability, custom metrics\nVisualization Built-in plotting and table generation\nMonte Carlo Automatic statistical analysis over thousands of runs\nComparison Side-by-side protocol performance analysis\n\n</div>\n\n","category":"section"},{"location":"#Learn-More","page":"Home","title":"Learn More","text":"<div class=\"feature-grid\">\n    <a href=\"quickstart/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--accent-green);\">\n            <h4 style=\"color: var(--accent-green); margin-top: 0;\">Quick Start</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Get up and running in 5 minutes</p>\n        </div>\n    </a>\n\n    <a href=\"guides/dsl/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--brand-primary);\">\n            <h4 style=\"color: var(--brand-primary); margin-top: 0;\">Protocol DSL</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Complete language reference</p>\n        </div>\n    </a>\n\n    <a href=\"guides/delivery_models/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--accent-orange);\">\n            <h4 style=\"color: var(--accent-orange); margin-top: 0;\">Delivery Models</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Communication model options</p>\n        </div>\n    </a>\n\n    <a href=\"examples/overview/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--accent-blue);\">\n            <h4 style=\"color: var(--accent-blue); margin-top: 0;\">Examples</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Real protocols from research papers</p>\n        </div>\n    </a>\n\n    <a href=\"api/core/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--accent-purple);\">\n            <h4 style=\"color: var(--accent-purple); margin-top: 0;\">API Reference</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Complete function documentation</p>\n        </div>\n    </a>\n\n    <a href=\"guides/experiments/\" style=\"text-decoration: none; color: inherit;\">\n        <div class=\"feature-card\" style=\"border-left: 4px solid var(--accent-pink);\">\n            <h4 style=\"color: var(--accent-pink); margin-top: 0;\">Running Experiments</h4>\n            <p style=\"font-size: 0.95rem; color: var(--text-secondary);\">Simulation and analysis guide</p>\n        </div>\n    </a>\n</div>\n\n","category":"section"},{"location":"#Installation","page":"Home","title":"Installation","text":"using Pkg\nPkg.add(\"StochProtocol\")\n\nOr from GitHub:\n\nusing Pkg\nPkg.add(url=\"https://github.com/notGiGi/StochProtocol.jl\")\n\n","category":"section"},{"location":"#Community-and-Support","page":"Home","title":"Community & Support","text":"GitHub: notGiGi/StochProtocol.jl\nIssues: Report bugs or request features\n\n","category":"section"},{"location":"#Citation","page":"Home","title":"Citation","text":"If you use StochProtocol.jl in your research, please cite:\n\n@software{stochprotocol2025,\n  title = {StochProtocol.jl: Simulation of Stochastic Consensus Protocols},\n  author = {notGiGi},\n  year = {2025},\n  url = {https://github.com/notGiGi/StochProtocol.jl}\n}\n\n","category":"section"},{"location":"#License","page":"Home","title":"License","text":"MIT License - Free for academic and commercial use.","category":"section"},{"location":"guides/delivery_models/#Delivery-Models-in-StochProtocol","page":"Delivery Models","title":"Delivery Models in StochProtocol","text":"Flexible communication models for realistic network simulation\n\n\n\nStochProtocol supports multiple communication delivery models that allow you to experiment with different network conditions and message delivery guarantees.","category":"section"},{"location":"guides/delivery_models/#Overview","page":"Delivery Models","title":"Overview","text":"<div class=\"admonition is-info\">\n    <div class=\"admonition-header\">üéØ Why Delivery Models Matter</div>\n    <p>Different delivery models capture different assumptions about network behavior: simple probabilistic channels, guaranteed delivery semantics, broadcast primitives, or complex hybrid scenarios. Choose the model that matches your research question.</p>\n</div>\n\nDelivery models control how messages are delivered between processes in your protocol:\n\nGlobal models: Apply the same model to all processes\nProcess-specific models: Different processes can use different delivery models\nHybrid configurations: Mix and match models for heterogeneous networks","category":"section"},{"location":"guides/delivery_models/#Available-Models","page":"Delivery Models","title":"Available Models","text":"","category":"section"},{"location":"guides/delivery_models/#1.-Standard-Model-(Default)","page":"Delivery Models","title":"1. Standard Model (Default)","text":"Classic probabilistic delivery where each message is delivered independently with probability p.\n\nSyntax:\n\nMODEL:\n    standard\n\nCharacteristics:\n\nEach message has independent probability p of delivery\nDefault behavior if no MODEL section specified\nBest for simulating typical unreliable networks\n\nExample:\n\nprotocol\"\"\"\nPROTOCOL MyProtocol\n...\nMODEL:\n    standard\n...\n\"\"\"","category":"section"},{"location":"guides/delivery_models/#2.-Guaranteed-Model","page":"Delivery Models","title":"2. Guaranteed Model","text":"Ensures a minimum number of messages are delivered, either per round or across the entire execution.\n\nSyntax:\n\nMODEL:\n    guaranteed k=<number> scope=<per_round|total>\n\nParameters:\n\nk: Minimum number of messages that must be delivered\nscope:\nper_round: Guarantee applies to each round individually\ntotal: Guarantee applies to total messages across all rounds\n\nCharacteristics:\n\nRuns that don't meet the guarantee are filtered out (not counted in statistics)\nMay reduce the number of valid repetitions for low p values\nUseful for modeling networks with minimum reliability requirements\n\nExample:\n\nprotocol\"\"\"\nPROTOCOL ReliableProtocol\nPROCESSES: 4\n...\nMODEL:\n    guaranteed k=3 scope=per_round\n...\n\"\"\"\n\nThis ensures at least 3 messages are delivered in every round. Runs with fewer messages are discarded.","category":"section"},{"location":"guides/delivery_models/#3.-Broadcast-Model","page":"Delivery Models","title":"3. Broadcast Model","text":"All-or-nothing delivery per source process. If any message from a process is delivered, all its messages are delivered.\n\nSyntax:\n\nMODEL:\n    broadcast probability=<per_source|uniform>\n\nParameters:\n\nprobability:\nper_source: Each source independently decides to broadcast with probability p\nuniform: Global probability p for all sources\n\nCharacteristics:\n\nCorrelated delivery: all messages from a source succeed/fail together\nModels broadcast primitives or atomic multicast\nUseful for protocols that rely on complete information from sources\n\nExample:\n\nprotocol\"\"\"\nPROTOCOL BroadcastProtocol\nPROCESSES: 3\n...\nMODEL:\n    broadcast probability=per_source\n...\n\"\"\"","category":"section"},{"location":"guides/delivery_models/#Process-Specific-Models","page":"Delivery Models","title":"Process-Specific Models","text":"You can assign different models to different processes for heterogeneous networks.\n\nSyntax:\n\nMODEL:\n    process <id>: <model_spec>\n    process <id>: <model_spec>\n    ...\n\nExample:\n\nprotocol\"\"\"\nPROTOCOL HybridProtocol\nPROCESSES: 4\n...\nMODEL:\n    process 1: standard\n    process 2: broadcast\n    process 3: broadcast\n    process 4: guaranteed k=2 scope=per_round\n...\n\"\"\"\n\nIn this configuration:\n\nProcess 1 uses independent delivery\nProcesses 2 & 3 use broadcast (all-or-nothing)\nProcess 4 guarantees at least 2 messages per round","category":"section"},{"location":"guides/delivery_models/#Complete-Examples","page":"Delivery Models","title":"Complete Examples","text":"","category":"section"},{"location":"guides/delivery_models/#Example-1:-Comparing-Models-on-AMP-Protocol","page":"Delivery Models","title":"Example 1: Comparing Models on AMP Protocol","text":"using StochProtocol\n\n# Standard model\namp_standard = Protocol(\"\"\"\nPROTOCOL AMP_Standard\nPROCESSES: 3\nSTATE: x ‚àà {0,1}\nINITIAL VALUES: [0.0, 0.5, 1.0]\nPARAMETERS: y ‚àà [0,1] = 0.5\nCHANNEL: stochastic\nMODEL: standard\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\nMETRICS: discrepancy, consensus\n\"\"\")\n\n# Guaranteed model\namp_guaranteed = Protocol(\"\"\"\nPROTOCOL AMP_Guaranteed\nPROCESSES: 3\nSTATE: x ‚àà {0,1}\nINITIAL VALUES: [0.0, 0.5, 1.0]\nPARAMETERS: y ‚àà [0,1] = 0.5\nCHANNEL: stochastic\nMODEL: guaranteed k=2 scope=per_round\nUPDATE RULE:\n    EACH ROUND:\n        if received_diff then x·µ¢ ‚Üê y else x·µ¢ ‚Üê x end\nMETRICS: discrepancy, consensus\n\"\"\")\n\n# Run and compare\nresults_std = run_protocol(amp_standard; p_values=0.0:0.1:1.0, repetitions=2000)\nresults_gua = run_protocol(amp_guaranteed; p_values=0.0:0.1:1.0, repetitions=2000)\n\nplot_comparison([(\"Standard\", results_std), (\"Guaranteed k=2\", results_gua)])","category":"section"},{"location":"guides/delivery_models/#Example-2:-Hybrid-Network-Simulation","page":"Delivery Models","title":"Example 2: Hybrid Network Simulation","text":"# Simulate a network where some nodes have better connectivity\nheterogeneous = Protocol(\"\"\"\nPROTOCOL HeterogeneousAveraging\nPROCESSES: 6\nSTATE: x ‚àà ‚Ñù\nINITIAL VALUES: [0.0, 1.0, 2.0, 3.0, 4.0, 5.0]\nCHANNEL: stochastic\n\nMODEL:\n    process 1: standard\n    process 2: standard\n    process 3: broadcast\n    process 4: broadcast\n    process 5: guaranteed k=4 scope=per_round\n    process 6: guaranteed k=4 scope=per_round\n\nUPDATE RULE:\n    EACH ROUND:\n        x·µ¢ ‚Üê avg(inbox_with_self)\n\nMETRICS:\n    discrepancy\n    consensus\n\"\"\")\n\nresults = run_protocol(heterogeneous; p_values=[0.5, 0.7, 0.9], repetitions=1000)\nresults_table(results)","category":"section"},{"location":"guides/delivery_models/#Implementation-Details","page":"Delivery Models","title":"Implementation Details","text":"","category":"section"},{"location":"guides/delivery_models/#How-Guaranteed-Models-Work","page":"Delivery Models","title":"How Guaranteed Models Work","text":"When using a guaranteed model with scope=per_round:\n\nProtocol runs normally\nAfter each round, delivered messages are counted\nIf count < k, the entire run is discarded\nOnly runs that satisfy the guarantee contribute to statistics\n\nThis means:\n\nAt low p values, you may get far fewer than requested repetitions\nStochProtocol will attempt up to 100√ó the requested repetitions\nA warning is issued if insufficient valid runs are found","category":"section"},{"location":"guides/delivery_models/#Performance-Considerations","page":"Delivery Models","title":"Performance Considerations","text":"Standard: Fastest, no filtering needed\nBroadcast: Slightly faster than standard (fewer random numbers generated)\nGuaranteed: Slowest for low p (many runs discarded)\n\nFor guaranteed models with strict constraints and low p, consider:\n\nIncreasing repetitions budget\nUsing less strict guarantees\nFocusing analysis on higher p values","category":"section"},{"location":"guides/delivery_models/#Use-Cases","page":"Delivery Models","title":"Use Cases","text":"Model Best For\nStandard General-purpose, typical unreliable networks\nGuaranteed Modeling QoS guarantees, studying minimum connectivity requirements\nBroadcast Atomic broadcast primitives, correlated failures, gossip protocols\nHybrid Heterogeneous networks, partial broadcast, tiered architectures","category":"section"},{"location":"guides/delivery_models/#Advanced:-Model-Configuration-in-Code","page":"Delivery Models","title":"Advanced: Model Configuration in Code","text":"You can also inspect and modify delivery models programmatically (for advanced use cases):\n\n# Models are parsed from the protocol definition\n# and stored in the ProtocolIR structure\nusing StochProtocol.DSL.IR: DeliveryModelSpec\n\n# Example: programmatically create a model spec\nspec = DeliveryModelSpec(\n    :guaranteed,  # model type\n    Dict(:min_messages => 3, :scope => :per_round),  # parameters\n    nothing  # process_id (nothing = global)\n)","category":"section"},{"location":"guides/delivery_models/#See-Also","page":"Delivery Models","title":"See Also","text":"Protocol DSL Reference\nExperiments Guide\nExamples","category":"section"}]
}
