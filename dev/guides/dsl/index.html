<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Protocol DSL ¬∑ StochProtocol.jl</title><meta name="title" content="Protocol DSL ¬∑ StochProtocol.jl"/><meta property="og:title" content="Protocol DSL ¬∑ StochProtocol.jl"/><meta property="twitter:title" content="Protocol DSL ¬∑ StochProtocol.jl"/><meta name="description" content="Documentation for StochProtocol.jl."/><meta property="og:description" content="Documentation for StochProtocol.jl."/><meta property="twitter:description" content="Documentation for StochProtocol.jl."/><meta property="og:url" content="https://notGiGi.github.io/StochProtocol.jl/guides/dsl/"/><meta property="twitter:url" content="https://notGiGi.github.io/StochProtocol.jl/guides/dsl/"/><link rel="canonical" href="https://notGiGi.github.io/StochProtocol.jl/guides/dsl/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../quickstart/">Quick Start</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li class="is-active"><a class="tocitem" href>Protocol DSL</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Sections"><span>Sections</span></a></li><li><a class="tocitem" href="#Complete-Examples"><span>Complete Examples</span></a></li><li><a class="tocitem" href="#Advanced-Features"><span>Advanced Features</span></a></li><li><a class="tocitem" href="#Tips-and-Best-Practices"><span>Tips &amp; Best Practices</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li></ul></li><li><a class="tocitem" href="../experiments/">Running Experiments</a></li><li><a class="tocitem" href="../delivery_models/">Delivery Models</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Examples</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../examples/overview/">Overview</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-6" type="checkbox"/><label class="tocitem" for="menuitem-6"><span class="docs-label">API Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../api/core/">Core Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Protocol DSL</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Protocol DSL</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/notGiGi/StochProtocol.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/notGiGi/StochProtocol.jl/blob/main/docs/src/guides/dsl.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Protocol-DSL-Reference"><a class="docs-heading-anchor" href="#Protocol-DSL-Reference">Protocol DSL Reference</a><a id="Protocol-DSL-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Protocol-DSL-Reference" title="Permalink"></a></h1><p><em>Complete reference for the StochProtocol protocol specification language</em></p><hr/><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>The Protocol DSL lets you define distributed consensus protocols using <strong>mathematical notation</strong> that mirrors research papers.</p><div class="admonition is-info">
    <div class="admonition-header">‚ú® Design Philosophy</div>
    <p><strong>No boilerplate code‚Äîjust the essential protocol logic.</strong> Write protocols the way you think about them, using the same notation you'd use in a paper.</p>
</div><h3 id="Basic-Structure"><a class="docs-heading-anchor" href="#Basic-Structure">Basic Structure</a><a id="Basic-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Structure" title="Permalink"></a></h3><pre><code class="language-julia hljs">PROTOCOL &lt;Name&gt;                      # Protocol identifier
PROCESSES: &lt;N&gt;                       # Number of processes
STATE: &lt;variable&gt; ‚àà &lt;domain&gt;         # State variable and domain
INITIAL VALUES: [v1, v2, ..., vN]    # Explicit initial values
  # OR
INITIAL: &lt;expression&gt;                # Formula-based initialization

PARAMETERS: &lt;params&gt;                 # Optional parameters
CHANNEL: stochastic                  # Channel type
MODEL: &lt;delivery_model&gt;              # Optional delivery model

UPDATE RULE:
    &lt;phase&gt;:                         # When to execute
        &lt;rule&gt;                       # How to update state

METRICS: &lt;metric1&gt;, &lt;metric2&gt;        # What to measure</code></pre><div class="admonition is-success">
    <div class="admonition-header">üí° Quick Tip</div>
    <p>Start with the simplest possible protocol, then add complexity incrementally. Every section except PARAMETERS and MODEL is required.</p>
</div><hr/><h2 id="Sections"><a class="docs-heading-anchor" href="#Sections">Sections</a><a id="Sections-1"></a><a class="docs-heading-anchor-permalink" href="#Sections" title="Permalink"></a></h2><h3 id="PROTOCOL"><a class="docs-heading-anchor" href="#PROTOCOL">PROTOCOL</a><a id="PROTOCOL-1"></a><a class="docs-heading-anchor-permalink" href="#PROTOCOL" title="Permalink"></a></h3><pre><code class="nohighlight hljs">PROTOCOL &lt;ProtocolName&gt;</code></pre><p><strong>Required</strong>. Defines the protocol name.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">PROTOCOL AMP
PROTOCOL SimpleAveraging
PROTOCOL FV_Protocol</code></pre><hr/><h3 id="PROCESSES"><a class="docs-heading-anchor" href="#PROCESSES">PROCESSES</a><a id="PROCESSES-1"></a><a class="docs-heading-anchor-permalink" href="#PROCESSES" title="Permalink"></a></h3><pre><code class="nohighlight hljs">PROCESSES: &lt;N&gt;</code></pre><p><strong>Required</strong>. Specifies the number of processes in the system.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">PROCESSES: 2
PROCESSES: 10
PROCESSES: 100</code></pre><hr/><h3 id="STATE"><a class="docs-heading-anchor" href="#STATE">STATE</a><a id="STATE-1"></a><a class="docs-heading-anchor-permalink" href="#STATE" title="Permalink"></a></h3><pre><code class="nohighlight hljs">STATE:
    &lt;variable&gt; ‚àà &lt;domain&gt;</code></pre><p><strong>Required</strong>. Declares the state variable and its domain.</p><p><strong>Supported Domains:</strong></p><ul><li><code>{0,1}</code> - Binary values</li><li><code>‚Ñù</code> or <code>R</code> - Real numbers</li><li><code>[a,b]</code> - Interval (parsed as real)</li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">STATE:
    x ‚àà {0,1}

STATE:
    x ‚àà ‚Ñù

STATE:
    value ‚àà [0,1]</code></pre><hr/><h3 id="INITIAL-VALUES-/-INITIAL"><a class="docs-heading-anchor" href="#INITIAL-VALUES-/-INITIAL">INITIAL VALUES / INITIAL</a><a id="INITIAL-VALUES-/-INITIAL-1"></a><a class="docs-heading-anchor-permalink" href="#INITIAL-VALUES-/-INITIAL" title="Permalink"></a></h3><p>Two ways to initialize state:</p><h4 id="Option-1:-Explicit-Values"><a class="docs-heading-anchor" href="#Option-1:-Explicit-Values">Option 1: Explicit Values</a><a id="Option-1:-Explicit-Values-1"></a><a class="docs-heading-anchor-permalink" href="#Option-1:-Explicit-Values" title="Permalink"></a></h4><pre><code class="nohighlight hljs">INITIAL VALUES:
    [v1, v2, ..., vN]</code></pre><p>Provide explicit initial values for each process.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">INITIAL VALUES:
    [0.0, 1.0]          # 2 processes

INITIAL VALUES:
    [0.0, 0.5, 1.0]     # 3 processes</code></pre><h4 id="Option-2:-Formula"><a class="docs-heading-anchor" href="#Option-2:-Formula">Option 2: Formula</a><a id="Option-2:-Formula-1"></a><a class="docs-heading-anchor-permalink" href="#Option-2:-Formula" title="Permalink"></a></h4><pre><code class="nohighlight hljs">INITIAL:
    x·µ¢ = &lt;expression in i&gt;</code></pre><p>Use a formula where <code>i</code> is the process ID (1-indexed).</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">INITIAL:
    x·µ¢ = i              # Process i starts with value i

INITIAL:
    x·µ¢ = i / N          # Normalized by number of processes

INITIAL:
    x·µ¢ = (i - 1) * 0.1  # 0.0, 0.1, 0.2, ...</code></pre><hr/><h3 id="PARAMETERS"><a class="docs-heading-anchor" href="#PARAMETERS">PARAMETERS</a><a id="PARAMETERS-1"></a><a class="docs-heading-anchor-permalink" href="#PARAMETERS" title="Permalink"></a></h3><pre><code class="nohighlight hljs">PARAMETERS:
    &lt;param&gt; ‚àà &lt;domain&gt; = &lt;default&gt;</code></pre><p><strong>Optional</strong>. Define protocol parameters (e.g., meeting points).</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">PARAMETERS:
    y ‚àà [0,1] = 0.5

PARAMETERS:
    alpha = 0.3
    beta ‚àà ‚Ñù = 1.0</code></pre><p>Access parameters in update rules:</p><pre><code class="nohighlight hljs">UPDATE RULE:
    EACH ROUND:
        x·µ¢ ‚Üê y          # Use parameter y</code></pre><hr/><h3 id="CHANNEL"><a class="docs-heading-anchor" href="#CHANNEL">CHANNEL</a><a id="CHANNEL-1"></a><a class="docs-heading-anchor-permalink" href="#CHANNEL" title="Permalink"></a></h3><pre><code class="nohighlight hljs">CHANNEL:
    stochastic</code></pre><p><strong>Required</strong>. Currently only <code>stochastic</code> (Bernoulli) channels are supported.</p><hr/><h3 id="MODEL"><a class="docs-heading-anchor" href="#MODEL">MODEL</a><a id="MODEL-1"></a><a class="docs-heading-anchor-permalink" href="#MODEL" title="Permalink"></a></h3><pre><code class="nohighlight hljs">MODEL:
    &lt;model_specification&gt;</code></pre><p><strong>Optional</strong>. Specifies the message delivery model. Defaults to <code>standard</code> if omitted.</p><h4 id="Standard-Model-(Default)"><a class="docs-heading-anchor" href="#Standard-Model-(Default)">Standard Model (Default)</a><a id="Standard-Model-(Default)-1"></a><a class="docs-heading-anchor-permalink" href="#Standard-Model-(Default)" title="Permalink"></a></h4><pre><code class="nohighlight hljs">MODEL:
    standard</code></pre><p>Independent probabilistic delivery for each message.</p><h4 id="Guaranteed-Model"><a class="docs-heading-anchor" href="#Guaranteed-Model">Guaranteed Model</a><a id="Guaranteed-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Guaranteed-Model" title="Permalink"></a></h4><pre><code class="nohighlight hljs">MODEL:
    guaranteed k=&lt;N&gt; scope=&lt;per_round|total&gt;</code></pre><p>Ensures minimum <code>k</code> messages delivered.</p><p><strong>Parameters:</strong></p><ul><li><code>k</code>: Minimum messages required</li><li><code>scope</code>:<ul><li><code>per_round</code>: Guarantee applies each round</li><li><code>total</code>: Guarantee applies to sum across all rounds</li></ul></li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">MODEL:
    guaranteed k=3 scope=per_round</code></pre><p>Filters out simulation runs where any round has &lt; 3 messages delivered.</p><h4 id="Broadcast-Model"><a class="docs-heading-anchor" href="#Broadcast-Model">Broadcast Model</a><a id="Broadcast-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Broadcast-Model" title="Permalink"></a></h4><pre><code class="nohighlight hljs">MODEL:
    broadcast probability=&lt;per_source|uniform&gt;</code></pre><p>All-or-nothing delivery per source process.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">MODEL:
    broadcast probability=per_source</code></pre><h4 id="Process-Specific-Models"><a class="docs-heading-anchor" href="#Process-Specific-Models">Process-Specific Models</a><a id="Process-Specific-Models-1"></a><a class="docs-heading-anchor-permalink" href="#Process-Specific-Models" title="Permalink"></a></h4><pre><code class="nohighlight hljs">MODEL:
    process &lt;id&gt;: &lt;model_spec&gt;
    process &lt;id&gt;: &lt;model_spec&gt;
    ...</code></pre><p>Assign different models to different processes.</p><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">MODEL:
    process 1: standard
    process 2: broadcast
    process 3: guaranteed k=2 scope=per_round</code></pre><p>See <a href="../delivery_models/">Delivery Models Guide</a> for details.</p><hr/><h3 id="UPDATE-RULE"><a class="docs-heading-anchor" href="#UPDATE-RULE">UPDATE RULE</a><a id="UPDATE-RULE-1"></a><a class="docs-heading-anchor-permalink" href="#UPDATE-RULE" title="Permalink"></a></h3><pre><code class="nohighlight hljs">UPDATE RULE:
    &lt;PHASE&gt;:
        &lt;rule&gt;</code></pre><p><strong>Required</strong>. Defines how processes update their state.</p><h4 id="Phases"><a class="docs-heading-anchor" href="#Phases">Phases</a><a id="Phases-1"></a><a class="docs-heading-anchor-permalink" href="#Phases" title="Permalink"></a></h4><ul><li><code>EACH ROUND</code> - Execute every round</li><li><code>END</code> - Execute once after all rounds</li><li><code>FIRST ROUND</code> - Execute only in round 1</li><li><code>AFTER ROUNDS &lt;k&gt;</code> - Execute starting from round k+1</li><li><code>UNTIL CONSENSUS</code> - Execute until consensus is reached</li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">UPDATE RULE:
    EACH ROUND:
        x·µ¢ ‚Üê avg(inbox_with_self)

    END:
        x·µ¢ ‚Üê min(inbox_with_self)</code></pre><h4 id="Update-Rules"><a class="docs-heading-anchor" href="#Update-Rules">Update Rules</a><a id="Update-Rules-1"></a><a class="docs-heading-anchor-permalink" href="#Update-Rules" title="Permalink"></a></h4><p><strong>Simple Assignment:</strong></p><pre><code class="nohighlight hljs">x·µ¢ ‚Üê &lt;expression&gt;</code></pre><p><strong>Conditional:</strong></p><pre><code class="nohighlight hljs">if &lt;condition&gt; then
    x·µ¢ ‚Üê &lt;expr1&gt;
else
    x·µ¢ ‚Üê &lt;expr2&gt;
end</code></pre><p><strong>Conditions:</strong></p><ul><li><code>received_diff</code> - Inbox contains value different from own</li><li><code>received_any</code> - Inbox is not empty</li><li><code>received_all</code> - Received message from all other processes</li><li><code>received_at_least(k)</code> - Received at least k messages</li><li><code>received_majority</code> - Received from majority</li></ul><p><strong>Arithmetic:</strong></p><pre><code class="nohighlight hljs">x·µ¢ ‚Üê x + 1
x·µ¢ ‚Üê x * 2 + y
x·µ¢ ‚Üê (x + sum(inbox)) / 2</code></pre><p><strong>Aggregations:</strong></p><ul><li><code>avg(inbox)</code> - Average of received values</li><li><code>avg(inbox_with_self)</code> - Average including own value</li><li><code>sum(inbox)</code> - Sum of received values</li><li><code>min(inbox)</code> - Minimum of received values</li><li><code>max(inbox)</code> - Maximum of received values</li><li><code>count(inbox)</code> - Number of messages received</li></ul><p><strong>Special Values:</strong></p><ul><li><code>x</code> or <code>self</code> - Own current value</li><li><code>y</code> - Parameter (if defined)</li><li><code>received_other_value</code> - A different value from inbox (for FV-like protocols)</li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">UPDATE RULE:
    EACH ROUND:
        if received_diff then
            x·µ¢ ‚Üê y
        else
            x·µ¢ ‚Üê x
        end</code></pre><hr/><h3 id="METRICS"><a class="docs-heading-anchor" href="#METRICS">METRICS</a><a id="METRICS-1"></a><a class="docs-heading-anchor-permalink" href="#METRICS" title="Permalink"></a></h3><pre><code class="nohighlight hljs">METRICS:
    &lt;metric1&gt;
    &lt;metric2&gt;</code></pre><p><strong>Optional</strong>. Defaults to <code>discrepancy</code> and <code>consensus</code> if omitted.</p><p><strong>Supported Metrics:</strong></p><ul><li><code>discrepancy</code> - max(x) - min(x)</li><li><code>consensus</code> - Whether all processes agree (within Œµ)</li></ul><p><strong>Example:</strong></p><pre><code class="nohighlight hljs">METRICS:
    discrepancy
    consensus</code></pre><hr/><h2 id="Complete-Examples"><a class="docs-heading-anchor" href="#Complete-Examples">Complete Examples</a><a id="Complete-Examples-1"></a><a class="docs-heading-anchor-permalink" href="#Complete-Examples" title="Permalink"></a></h2><h3 id="Example-1:-AMP-Protocol"><a class="docs-heading-anchor" href="#Example-1:-AMP-Protocol">Example 1: AMP Protocol</a><a id="Example-1:-AMP-Protocol-1"></a><a class="docs-heading-anchor-permalink" href="#Example-1:-AMP-Protocol" title="Permalink"></a></h3><pre><code class="language-julia hljs">Protocol(&quot;&quot;&quot;
PROTOCOL AMP
PROCESSES: 2
STATE:
    x ‚àà {0,1}
INITIAL VALUES:
    [0.0, 1.0]
PARAMETERS:
    y ‚àà [0,1] = 0.5
CHANNEL:
    stochastic

UPDATE RULE:
    EACH ROUND:
        if received_diff then
            x·µ¢ ‚Üê y
        else
            x·µ¢ ‚Üê x
        end

METRICS:
    discrepancy
    consensus
&quot;&quot;&quot;)</code></pre><h3 id="Example-2:-Simple-Averaging"><a class="docs-heading-anchor" href="#Example-2:-Simple-Averaging">Example 2: Simple Averaging</a><a id="Example-2:-Simple-Averaging-1"></a><a class="docs-heading-anchor-permalink" href="#Example-2:-Simple-Averaging" title="Permalink"></a></h3><pre><code class="language-julia hljs">Protocol(&quot;&quot;&quot;
PROTOCOL Averaging
PROCESSES: 10
STATE:
    x ‚àà ‚Ñù
INITIAL:
    x·µ¢ = i
CHANNEL:
    stochastic

UPDATE RULE:
    EACH ROUND:
        x·µ¢ ‚Üê avg(inbox_with_self)

METRICS:
    discrepancy
    consensus
&quot;&quot;&quot;)</code></pre><h3 id="Example-3:-Minimum-with-Broadcast"><a class="docs-heading-anchor" href="#Example-3:-Minimum-with-Broadcast">Example 3: Minimum with Broadcast</a><a id="Example-3:-Minimum-with-Broadcast-1"></a><a class="docs-heading-anchor-permalink" href="#Example-3:-Minimum-with-Broadcast" title="Permalink"></a></h3><pre><code class="language-julia hljs">Protocol(&quot;&quot;&quot;
PROTOCOL MinProtocol
PROCESSES: 5
STATE:
    x ‚àà ‚Ñù
INITIAL VALUES:
    [5.0, 3.0, 8.0, 1.0, 6.0]
CHANNEL:
    stochastic

MODEL:
    broadcast probability=per_source

UPDATE RULE:
    EACH ROUND:
        if received_any then
            x·µ¢ ‚Üê min(inbox_with_self)
        else
            x·µ¢ ‚Üê x
        end

METRICS:
    discrepancy
    consensus
&quot;&quot;&quot;)</code></pre><hr/><h2 id="Advanced-Features"><a class="docs-heading-anchor" href="#Advanced-Features">Advanced Features</a><a id="Advanced-Features-1"></a><a class="docs-heading-anchor-permalink" href="#Advanced-Features" title="Permalink"></a></h2><h3 id="Complex-Expressions"><a class="docs-heading-anchor" href="#Complex-Expressions">Complex Expressions</a><a id="Complex-Expressions-1"></a><a class="docs-heading-anchor-permalink" href="#Complex-Expressions" title="Permalink"></a></h3><pre><code class="language-julia hljs">UPDATE RULE:
    EACH ROUND:
        x·µ¢ ‚Üê (x + avg(inbox)) / 2</code></pre><h3 id="Multiple-Conditions"><a class="docs-heading-anchor" href="#Multiple-Conditions">Multiple Conditions</a><a id="Multiple-Conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Multiple-Conditions" title="Permalink"></a></h3><pre><code class="language-julia hljs">UPDATE RULE:
    EACH ROUND:
        if received_majority then
            x·µ¢ ‚Üê avg(inbox_with_self)
        else
            x·µ¢ ‚Üê x
        end</code></pre><h3 id="Multi-Phase-Updates"><a class="docs-heading-anchor" href="#Multi-Phase-Updates">Multi-Phase Updates</a><a id="Multi-Phase-Updates-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Phase-Updates" title="Permalink"></a></h3><pre><code class="language-julia hljs">UPDATE RULE:
    EACH ROUND:
        x·µ¢ ‚Üê avg(inbox_with_self)

    END:
        x·µ¢ ‚Üê min(inbox_with_self)</code></pre><hr/><h2 id="Tips-and-Best-Practices"><a class="docs-heading-anchor" href="#Tips-and-Best-Practices">Tips &amp; Best Practices</a><a id="Tips-and-Best-Practices-1"></a><a class="docs-heading-anchor-permalink" href="#Tips-and-Best-Practices" title="Permalink"></a></h2><ol><li><strong>Start Simple</strong>: Begin with basic protocols before adding complexity</li><li><strong>Test Small</strong>: Use <code>PROCESSES: 2</code> or <code>3</code> for initial testing</li><li><strong>Use Parameters</strong>: Make protocols configurable with <code>PARAMETERS</code></li><li><strong>Descriptive Names</strong>: Use clear protocol names</li><li><strong>Comments</strong>: While not officially supported, keep protocol definitions well-structured</li></ol><hr/><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><ul><li><a href="../../quickstart/">Quick Start</a> - Get started quickly</li><li><a href="../delivery_models/">Delivery Models</a> - Communication models</li><li><a href="../../examples/overview/">Examples</a> - Real-world protocols</li><li><a href="../../api/core/">API Reference</a> - Function documentation</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../getting_started/">¬´ Getting Started</a><a class="docs-footer-nextpage" href="../experiments/">Running Experiments ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 18 December 2025 04:20">Thursday 18 December 2025</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
